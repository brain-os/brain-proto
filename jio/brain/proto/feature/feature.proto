syntax = "proto3";

package jio.brain.proto.feature;

option java_package = "com.jio.brain.proto.feature.schema";
option java_multiple_files = true;

import "jio/brain/proto/base/id.proto";
import "jio/brain/proto/base/status.proto";
import "jio/brain/proto/base/enums.proto";
import "jio/brain/proto/base/token.proto";
import "jio/brain/proto/entity/entity.proto";
import "jio/brain/proto/quantity/quantity.proto";
import "jio/brain/proto/event/event.proto";

message BrainFeatureSchema {
  jio.brain.proto.base.BrainToken token = 1;
  oneof type_is_one_of {
    jio.brain.proto.entity.BrainAttributeSchema attribute = 2; // static - attribute of entity as well as their time series values
    jio.brain.proto.event.BrainEventPropertySchema property  = 3; // output of DAG e.g. aggregate same
    // todo predicates and predicate qualifiers
    jio.brain.proto.quantity.BrainQuantitySchema inferred = 4;
  }
  uint32 record_count = 6; // for time series values
}
service FeatureMetadataService {
  rpc getDependentFunctions(FeatureMetadataRequest) returns (FeatureMetadataResponse) {}
}
message FeatureMetadataRequest {
  string feature_name = 1;
}
message FeatureMetadataResponse {
  jio.brain.proto.base.BrainStatus status = 1;
  repeated string function_set = 2;
}
